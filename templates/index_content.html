<!-- ========================================= -->
<!-- templates/index_content.html -->
<!-- ========================================= -->
<header class="hero">
  <div id="hero-inner">
    <h1>Good evening</h1>
  </div>
</header>

<section class="content">
  <div class="content-header">
    <h2 id="content-title">Made for you</h2>
    <input type="text" id="search-input" placeholder="What do you want to listen to?" />
  </div>

  <div class="grid">
    {% for p in playlists[:6] %}
    <div class="tile" data-playlist-id="{{ p.id }}" style="cursor:pointer">
      <div class="cover" style="background:{{ p.gradient }}">{{ p.cover }}</div>
      <div>
        <div style="font-weight:700">{{ p.name }}</div>
        <div class="meta">{{ p.trackCount }} songs</div>
      </div>
    </div>
    {% endfor %}
  </div>

  <div class="tracks">
    <div class="tracks-head">
      <div>#</div>
      <div>TITLE</div>
      <div>ALBUM</div>
      <div></div>
      <div></div>
      <div>‚è±</div>
    </div>
    {% for t in tracks %}
    <div class="track-row" data-id="{{ t.id }}">
      <div class="track-index">{{ loop.index }}</div>
      <div style="display:flex;gap:10px;align-items:center">
        <div class="track-cover" style="background:{{ t.gradient }};cursor:pointer">{{ t.cover }}</div>
        <div>
          <div class="track-title" style="cursor:pointer">{{ t.title }}</div>
          <div class="track-artist">{{ t.artist }}</div>
        </div>
      </div>
      <div class="meta">{{ t.album }}</div>
      <div class="track-actions">
        <button class="like-btn">ü§ç</button>
        <button class="queue-add">+</button>
      </div>
      <div style="text-align:right">
        {% if t.duration %}
          {{ (t.duration // 60) }}:{% if (t.duration % 60) < 10 %}0{% endif %}{{ t.duration % 60 }}
        {% else %}
          0:00
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<script>
  window.SERVER_DATA = {
    tracks: {{ tracks | tojson | safe }},
    playlists: {{ playlists | tojson | safe }},
    genres: {{ genres | tojson | safe }}
  };
</script>
