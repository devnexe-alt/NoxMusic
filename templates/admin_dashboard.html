{% extends "base.html" %}
{% block content %}
<div style="padding:20px">
  <h2>Admin dashboard</h2>

  <section style="margin-top:12px">
    <form id="rescan-form" method="post" action="{{ url_for('main.admin_rescan') }}">
      <button type="submit" style="padding:8px 12px">Run rescan (scan static/media)</button>
    </form>
  </section>

  <section style="margin-top:18px">
    <h3>Bulk upload</h3>

    <form method="post" enctype="multipart/form-data" action="{{ url_for('main.admin_bulk_upload') }}">
      <label>Upload multiple audio files (select many):</label><br>
      <input type="file" name="files" accept=".mp3,.ogg,.wav,.m4a" multiple>
      <div style="margin-top:8px"><button type="submit">Upload files</button></div>
    </form>

    <div style="height:8px"></div>

    <form method="post" enctype="multipart/form-data" action="{{ url_for('main.admin_bulk_upload') }}">
      <label>Or upload ZIP with audio files:</label><br>
      <input type="file" name="zipfile" accept=".zip">
      <div style="margin-top:8px"><button type="submit">Upload ZIP</button></div>
    </form>
  </section>

  <section style="margin-top:18px">
    <h3>Upload audio</h3>
    <form method="post" enctype="multipart/form-data" action="{{ url_for('main.admin_upload') }}">
      <input type="file" name="file" accept=".mp3,.ogg,.wav,.m4a" required>
      <div style="margin-top:8px"><button type="submit">Upload</button></div>
    </form>
  </section>

  <section style="margin-top:18px">
    <a href="{{ url_for('auth.logout') }}">Logout</a>
  </section>
</div>
{% endblock %}
